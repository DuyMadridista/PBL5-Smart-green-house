import G from"./Icon.abde8ead.js";import J from"./Avatar.527f9bdc.js";import Y from"./Kbd.67cfddd2.js";import Z from"./Link.b3266d77.js";import{g as O,r as S,j as k,z as ne,s as X,A as oe,B as ue,S as P,C as le,E as se,G as V,U as re,v as C,o as h,k as w,w as R,b as $,H as z,a as q,c as T,y as D,V as ie,T as de,K as A,F as _,x as U,l as F,t as x,d as pe}from"./entry.bedce686.js";import{g as ce,u as me,o as ve}from"./ui.config.07516773.js";import{u as fe}from"./usePopper.f6e400e4.js";import{_ as be}from"./_plugin-vue_export-helper.c27b6911.js";import{o as I,u as ge,H as E,t as L,N as Q,a as f}from"./dom.00f6aa02.js";import{p as Ie,u as ye,x as Me,a as M}from"./use-tracked-pointer.78d1a0f7.js";import{c as he,l as B,p as Se}from"./open-closed.3bb56ca1.js";import{b as ke}from"./use-resolve-button-type.fc40ffdb.js";import{w as Re,h as Te,v as Pe,N as W,_ as ee,O as we}from"./focus-management.d5172c5c.js";import{y as De}from"./use-outside-click.798ba276.js";import{p as Oe}from"./use-text-value.6d0440d4.js";import"./tw-merge.d13a1e91.js";import"./nuxt-link.cf794b59.js";import"./index.8c7f848a.js";import"./index.94805f97.js";var Ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ce||{}),$e=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))($e||{});function Ae(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let te=Symbol("MenuContext");function N(e){let m=le(te,null);if(m===null){let y=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(y,N),y}return m}let Be=O({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:m,attrs:y}){let b=S(1),t=S(null),v=S(null),u=S([]),d=S(""),l=S(null),r=S(1);function a(o=s=>s){let s=l.value!==null?u.value[l.value]:null,i=we(o(u.value.slice()),g=>I(g.dataRef.domRef)),n=s?i.indexOf(s):null;return n===-1&&(n=null),{items:i,activeItemIndex:n}}let p={menuState:b,buttonRef:t,itemsRef:v,items:u,searchQuery:d,activeItemIndex:l,activationTrigger:r,closeMenu:()=>{b.value=1,l.value=null},openMenu:()=>b.value=0,goToItem(o,s,i){let n=a(),g=Me(o===M.Specific?{focus:M.Specific,id:s}:{focus:o},{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.disabled});d.value="",l.value=g,r.value=i??1,u.value=n.items},search(o){let s=d.value!==""?0:1;d.value+=o.toLowerCase();let i=(l.value!==null?u.value.slice(l.value+s).concat(u.value.slice(0,l.value+s)):u.value).find(g=>g.dataRef.textValue.startsWith(d.value)&&!g.dataRef.disabled),n=i?u.value.indexOf(i):-1;n===-1||n===l.value||(l.value=n,r.value=1)},clearSearch(){d.value=""},registerItem(o,s){let i=a(n=>[...n,{id:o,dataRef:s}]);u.value=i.items,l.value=i.activeItemIndex,r.value=1},unregisterItem(o){let s=a(i=>{let n=i.findIndex(g=>g.id===o);return n!==-1&&i.splice(n,1),i});u.value=s.items,l.value=s.activeItemIndex,r.value=1}};return De([t,v],(o,s)=>{var i;p.closeMenu(),Re(s,Te.Loose)||(o.preventDefault(),(i=I(t))==null||i.focus())},k(()=>b.value===0)),ne(te,p),he(k(()=>ge(b.value,{0:B.Open,1:B.Closed}))),()=>{let o={open:b.value===0,close:p.closeMenu};return E({ourProps:{},theirProps:e,slot:o,slots:m,attrs:y,name:"Menu"})}}}),Ee=O({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${L()}`}},setup(e,{attrs:m,slots:y,expose:b}){let t=N("MenuButton");b({el:t.buttonRef,$el:t.buttonRef});function v(r){switch(r.key){case f.Space:case f.Enter:case f.ArrowDown:r.preventDefault(),r.stopPropagation(),t.openMenu(),P(()=>{var a;(a=I(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(M.First)});break;case f.ArrowUp:r.preventDefault(),r.stopPropagation(),t.openMenu(),P(()=>{var a;(a=I(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(M.Last)});break}}function u(r){switch(r.key){case f.Space:r.preventDefault();break}}function d(r){e.disabled||(t.menuState.value===0?(t.closeMenu(),P(()=>{var a;return(a=I(t.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(r.preventDefault(),t.openMenu(),Ae(()=>{var a;return(a=I(t.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let l=ke(k(()=>({as:e.as,type:m.type})),t.buttonRef);return()=>{var r;let a={open:t.menuState.value===0},{id:p,...o}=e,s={ref:t.buttonRef,id:p,type:l.value,"aria-haspopup":"menu","aria-controls":(r=I(t.itemsRef))==null?void 0:r.id,"aria-expanded":t.menuState.value===0,onKeydown:v,onKeyup:u,onClick:d};return E({ourProps:s,theirProps:o,slot:a,attrs:m,slots:y,name:"MenuButton"})}}}),Ne=O({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${L()}`}},setup(e,{attrs:m,slots:y,expose:b}){let t=N("MenuItems"),v=S(null);b({el:t.itemsRef,$el:t.itemsRef}),Ie({container:k(()=>I(t.itemsRef)),enabled:k(()=>t.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function u(a){var p;switch(v.value&&clearTimeout(v.value),a.key){case f.Space:if(t.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),t.search(a.key);case f.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeItemIndex.value!==null){let o=t.items.value[t.activeItemIndex.value];(p=I(o.dataRef.domRef))==null||p.click()}t.closeMenu(),ee(I(t.buttonRef));break;case f.ArrowDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(M.Next);case f.ArrowUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(M.Previous);case f.Home:case f.PageUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(M.First);case f.End:case f.PageDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(M.Last);case f.Escape:a.preventDefault(),a.stopPropagation(),t.closeMenu(),P(()=>{var o;return(o=I(t.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case f.Tab:a.preventDefault(),a.stopPropagation(),t.closeMenu(),P(()=>Pe(I(t.buttonRef),a.shiftKey?W.Previous:W.Next));break;default:a.key.length===1&&(t.search(a.key),v.value=setTimeout(()=>t.clearSearch(),350));break}}function d(a){switch(a.key){case f.Space:a.preventDefault();break}}let l=Se(),r=k(()=>l!==null?(l.value&B.Open)===B.Open:t.menuState.value===0);return()=>{var a,p;let o={open:t.menuState.value===0},{id:s,...i}=e,n={"aria-activedescendant":t.activeItemIndex.value===null||(a=t.items.value[t.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(p=I(t.buttonRef))==null?void 0:p.id,id:s,onKeydown:u,onKeyup:d,role:"menu",tabIndex:0,ref:t.itemsRef};return E({ourProps:n,theirProps:i,slot:o,attrs:m,slots:y,features:Q.RenderStrategy|Q.Static,visible:r.value,name:"MenuItems"})}}}),He=O({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${L()}`}},setup(e,{slots:m,attrs:y,expose:b}){let t=N("MenuItem"),v=S(null);b({el:v,$el:v});let u=k(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===e.id:!1),d=Oe(v),l=k(()=>({disabled:e.disabled,get textValue(){return d()},domRef:v}));X(()=>t.registerItem(e.id,l)),oe(()=>t.unregisterItem(e.id)),ue(()=>{t.menuState.value===0&&u.value&&t.activationTrigger.value!==0&&P(()=>{var n,g;return(g=(n=I(v))==null?void 0:n.scrollIntoView)==null?void 0:g.call(n,{block:"nearest"})})});function r(n){if(e.disabled)return n.preventDefault();t.closeMenu(),ee(I(t.buttonRef))}function a(){if(e.disabled)return t.goToItem(M.Nothing);t.goToItem(M.Specific,e.id)}let p=ye();function o(n){p.update(n)}function s(n){p.wasMoved(n)&&(e.disabled||u.value||t.goToItem(M.Specific,e.id,0))}function i(n){p.wasMoved(n)&&(e.disabled||u.value&&t.goToItem(M.Nothing))}return()=>{let{disabled:n}=e,g={active:u.value,disabled:n,close:t.closeMenu},{id:c,...H}=e;return E({ourProps:{id:c,ref:v,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:r,onFocus:a,onPointerenter:o,onMouseenter:o,onPointermove:s,onMousemove:s,onPointerleave:i,onMouseleave:i},theirProps:{...y,...H},slot:g,attrs:y,slots:m,name:"MenuItem"})}}});const _e=se(V.ui.strategy,V.ui.dropdown,ce),Ue=O({components:{HMenu:Be,HMenuButton:Ee,HMenuItems:Ne,HMenuItem:He,UIcon:G,UAvatar:J,UKbd:Y,ULink:Z},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},ui:{type:Object,default:void 0}},setup(e){const{ui:m,attrs:y}=me("dropdown",e.ui,_e,{mergeWrapper:!0}),b=k(()=>re(e.mode==="hover"?{offsetDistance:0}:{},e.popper,m.value.popper)),[t,v]=fe(b.value),u=S(null);let d=null,l=null;X(()=>{setTimeout(()=>{const o=t.value?.$.provides;if(!o)return;const s=Object.getOwnPropertySymbols(o);u.value=s.length&&o[s[0]]},200)});const r=k(()=>{const o=e.popper?.offsetDistance||m.value.popper?.offsetDistance||8;return e.mode==="hover"?{paddingTop:`${o}px`,paddingBottom:`${o}px`}:{}});function a(){e.mode!=="hover"||!u.value||(l&&(clearTimeout(l),l=null),u.value.menuState!==0&&(d=d||setTimeout(()=>{u.value.openMenu&&u.value.openMenu(),d=null},e.openDelay)))}function p(){e.mode!=="hover"||!u.value||(d&&(clearTimeout(d),d=null),u.value.menuState!==1&&(l=l||setTimeout(()=>{u.value.closeMenu&&u.value.closeMenu(),l=null},e.closeDelay)))}return{ui:m,attrs:y,trigger:t,container:v,containerStyle:r,onMouseOver:a,onMouseLeave:p,omit:ve}}}),Fe=["disabled"],Le={class:"truncate"};function je(e,m,y,b,t,v){const u=C("HMenuButton"),d=G,l=J,r=Y,a=Z,p=C("HMenuItem"),o=C("HMenuItems"),s=C("HMenu");return h(),w(s,A({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:R(({open:i})=>[$(u,{ref:"trigger",as:"div",disabled:e.disabled,class:"inline-flex w-full",role:"button",onMouseover:e.onMouseOver},{default:R(()=>[z(e.$slots,"default",{open:i,disabled:e.disabled},()=>[q("button",{disabled:e.disabled}," Open ",8,Fe)])]),_:2},1032,["disabled","onMouseover"]),i&&e.items.length?(h(),T("div",{key:0,ref:"container",class:D([e.ui.container,e.ui.width]),style:ie(e.containerStyle),onMouseover:m[0]||(m[0]=(...n)=>e.onMouseOver&&e.onMouseOver(...n))},[$(de,A({appear:""},e.ui.transition),{default:R(()=>[$(o,{class:D([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:R(()=>[(h(!0),T(_,null,U(e.items,(n,g)=>(h(),T("div",{key:g,class:D(e.ui.padding)},[(h(!0),T(_,null,U(n,(c,H)=>(h(),w(p,{key:H,disabled:c.disabled},{default:R(({active:j,disabled:ae})=>[$(a,A(e.omit(c,["label","slot","icon","iconClass","avatar","shortcuts","disabled","click"]),{class:[e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,j?e.ui.item.active:e.ui.item.inactive,ae&&e.ui.item.disabled],onClick:c.click}),{default:R(()=>[z(e.$slots,c.slot||"item",{item:c},()=>[c.icon?(h(),w(d,{key:0,name:c.icon,class:D([e.ui.item.icon.base,j?e.ui.item.icon.active:e.ui.item.icon.inactive,c.iconClass])},null,8,["name","class"])):c.avatar?(h(),w(l,A({key:1},{size:e.ui.item.avatar.size,...c.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):F("",!0),q("span",Le,x(c.label),1),c.shortcuts?.length?(h(),T("span",{key:2,class:D(e.ui.item.shortcuts)},[(h(!0),T(_,null,U(c.shortcuts,K=>(h(),w(r,{key:K},{default:R(()=>[pe(x(K),1)]),_:2},1024))),128))],2)):F("",!0)])]),_:2},1040,["class","onClick"])]),_:2},1032,["disabled"]))),128))],2))),128))]),_:3},8,["class"])]),_:3},16)],38)):F("",!0)]),_:3},16,["class","onMouseleave"])}const st=be(Ue,[["render",je]]);export{st as default};
